# ROLE
–¢—ã ‚Äî –∏–Ω–∂–µ–Ω–µ—Ä-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫. –í—ã–ø–æ–ª–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ¬´–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-—Å–µ–Ω—Å–æ—Ä–Ω–æ–≥–æ –ø–∞—Å–ø–æ—Ä—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∞¬ª –ø–æ –º–µ—Ç–æ–¥–∏–∫–µ ¬´–ü–æ–ª—è—Ä–Ω–∞—è –∑–≤–µ–∑–¥–∞¬ª –ø—Ä—è–º–æ –Ω–∞ —Å–∞–π—Ç–µ (Vercel Functions). –°–¥–µ–ª–∞–π –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: —Å–æ–∑–¥–∞–π —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã, –ø–æ–¥–∫–ª—é—á–∏ –∏—Ö –∫ –ø—Ä–æ–º–ø—Ç—É –±—ç–∫–µ–Ω–¥–∞, –æ–±–µ—Å–ø–µ—á—å —Å–±–æ—Ä–∫—É DOCX.

# CONTEXT PATHS (–æ—Ç –∫–æ—Ä–Ω—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
REF_DIR=./reference
REF_FORM=$REF_DIR/form_template.md
REF_BOOK=$REF_DIR/book_v2_excerpt.md
REF_EXAMPLE=$REF_DIR/miau_example.md
OUTPUT_DIR=./output
DOCX_API=./api/generate-docx.js
GEN_API=./api/generate.js
PACKAGE=./package.json

# GOALS
1) –ï—Å–ª–∏ –Ω–µ—Ç –ø–∞–ø–∫–∏ reference/ ‚Äî —Å–æ–∑–¥–∞–π. –ï—Å–ª–∏ –Ω–µ—Ç output/ ‚Äî —Å–æ–∑–¥–∞–π.
2) –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Ç—Ä–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ (.md):
   - form_template.md ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ¬´–§–æ—Ä–º—ã –ø–∞—Å–ø–æ—Ä—Ç–∞¬ª (—à–∞–ø–∫–∞ + 4 –±–ª–æ–∫–∞ √ó 5 –≤–æ–ø—Ä–æ—Å–æ–≤, —Å—Ç—Ä–æ–≥–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏).
   - book_v2_excerpt.md ‚Äî –∫—Ä–∞—Ç–∫–∏–µ –ø–æ—è—Å–Ω–µ–Ω–∏—è 4 –±–ª–æ–∫–æ–≤ –∏ 20 –∑–∞–¥–∞—á (–ø–æ –¥–µ–ª—É, –ø–æ 1‚Äì3 —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç).
   - miau_example.md ‚Äî –ø—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è ¬´–ú—è—É-–Ø–∏—á–∫–æ¬ª: —à–∞–ø–∫–∞ (5 –ø–æ–ª–µ–π) + 20 –æ—Ç–≤–µ—Ç–æ–≤ + ¬´–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è¬ª, ¬´–ü–æ—á–µ–º—É –∑–≤–µ–∑–¥–∞¬ª, ¬´–ó–∞–∫–ª—é—á–µ–Ω–∏–µ¬ª.
3) –û–±–Ω–æ–≤–∏ /api/generate.js:
   - –ù–∞ ¬´—Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ¬ª –ø—Ä–æ—á–∏—Ç–∞–π REF_FORM/REF_BOOK/REF_EXAMPLE.
   - –°–æ–±–µ—Ä–∏ SYSTEM_PROMPT, –∫–æ—Ç–æ—Ä—ã–π –∂—ë—Å—Ç–∫–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç: —à–∞–ø–∫–∞ (5 –ø–æ–ª–µ–π), 4 —Ç–∞–±–ª–∏—Ü—ã (‚Ññ | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç) —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π 1.1‚Äì4.5, –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã.
   - –ü—Ä–∏–Ω–∏–º–∞–π user-–≤–≤–æ–¥ (category, audience, pain, innovation, temperature), –¥–æ–±–∞–≤–ª—è–π –µ–≥–æ –≤ user-—Å–æ–æ–±—â–µ–Ω–∏–µ.
   - –í—ã–∑—ã–≤–∞–π LLM (OpenRouter/OpenAI ‚Äî –∫–∞–∫ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ), –ü–£–°–¢–¨ –º–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å—Ç—Ä–æ–≥–æ–≥–æ –≤–∏–¥–∞:
     {
       "header": {"category":"","name":"","audience":"","pain":"","innovation":""},
       "blocks":{
         "cognitive":[{"no":"1.1","question":"...","answer":"..."}, ...],
         "sensory":[{"no":"2.1","question":"...","answer":"..."}, ...],
         "branding":[{"no":"3.1","question":"...","answer":"..."}, ...],
         "marketing":[{"no":"4.1","question":"...","answer":"..."}, ...]
       },
       "tech":["..."],
       "star":["..."],
       "conclusion":"..."
     }
   - –í–µ—Ä–Ω–∏ —ç—Ç–æ—Ç JSON —Ñ—Ä–æ–Ω—Ç—É (–∏ –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–π –ø—É—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã).
4) –û–±–Ω–æ–≤–∏ /api/generate-docx.js:
   - –ü—Ä–∏–º–∏ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–π JSON –∏ —Å–æ–±–µ—Ä–∏ DOCX —á–µ—Ä–µ–∑ npm-–ø–∞–∫–µ—Ç `docx`: —Ç–∏—Ç—É–ª ‚Üí –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è —Ñ–æ—Ç–æ ‚Üí —Ç–∞–±–ª–∏—Ü–∞ —à–∞–ø–∫–∏ 5√ó2 ‚Üí 4 —Ç–∞–±–ª–∏—Ü—ã —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ ¬´‚Ññ | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç¬ª ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã. –®—Ä–∏—Ñ—Ç Arial 11, –∑–∞–≥–æ–ª–æ–≤–∫–∏ 14 –ø–æ–ª—É–∂–∏—Ä–Ω—ã–µ, –º–µ–∂—Ç–∞–±–ª–∏—á–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã ~10pt.
   - –í–µ—Ä–Ω–∏ –±–∏–Ω–∞—Ä—å —Å `Content-Type: application/vnd.openxmlformats-officedocument.wordprocessingml.document`.
5) –ï—Å–ª–∏ `docx` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Äî –¥–æ–ø–æ–ª–Ω–∏ package.json –∏ –¥–æ–±–∞–≤—å –∫–æ–º–∞–Ω–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏/–∑–∞–ø—É—Å–∫–∞.
6) –ù–µ –ª–æ–º–∞–π —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É –≤—ã–∑–æ–≤–∞ –º–æ–¥–µ–ª–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç.
7) –í –∫–æ–Ω—Ü–µ –≤—ã–≤–µ–¥–∏:
   - –∫–æ—Ä–æ—Ç–∫–∏–π –ª–æ–≥, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã/–∏–∑–º–µ–Ω–µ–Ω—ã,
   - –ø–æ–¥—Å–∫–∞–∑–∫–∏ ¬´–∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å¬ª –Ω–∞ —Å–∞–π—Ç–µ,
   - –∫–æ–º–∞–Ω–¥—É –Ω–∞ —Å–ª—É—á–∞–π –ª–æ–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

# FILES TO CREATE (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç) ‚Äî –°–û–î–ï–†–ñ–ò–ú–û–ï

## $REF_FORM
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π markdown —Å —Ç–æ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ñ–æ—Ä–º—ã:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: ¬´–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-—Å–µ–Ω—Å–æ—Ä–Ω—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π –ø–∞—Å–ø–æ—Ä—Ç –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ (–ø–æ –º–µ—Ç–æ–¥–∏–∫–µ ‚Äú–ü–æ–ª—è—Ä–Ω–∞—è –∑–≤–µ–∑–¥–∞‚Äù)¬ª
- –®–∞–ø–∫–∞: —Ç–∞–±–ª–∏—Ü–∞ 5 —Å—Ç—Ä–æ–∫ (–ö–∞—Ç–µ–≥–æ—Ä–∏—è; –ù–∞–∑–≤–∞–Ω–∏–µ; –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è (–≤–æ–∑—Ä–∞—Å—Ç, –ø–æ–ª); –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∞—è –±–æ–ª—å; –°—É—Ç—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏/—É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å)
- –†–∞–∑–¥–µ–ª ¬´20 –∑–∞–¥–∞—á –º–µ—Ç–æ–¥–∏–∫–∏ ‚Äú–ü–æ–ª—è—Ä–Ω–∞—è –∑–≤–µ–∑–¥–∞‚Äù¬ª
- –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–π –±–ª–æ–∫ (—Ç–∞–±–ª–∏—Ü–∞, –∫–æ–ª–æ–Ω–∫–∏: ‚Ññ | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç):
  1.1 –ö–∞–∫—É—é –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫—É—é –±–æ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∑—Ä–∞–ø—Ç–∞?
  1.2 –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è: –∫–∞–∫–æ–π –Ω–æ–≤—ã–π —Ä—ã–Ω–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ–º?
  1.3 –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è: –∫–∞–∫–∏–µ –Ω–æ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤–Ω–µ–¥—Ä—è–µ–º?
  1.4 –ù–∞—Ä—Ä–∞—Ç–∏–≤—ã: –∫–∞–∫ –æ–±—ä—è—Å–Ω—è–µ–º, —á—Ç–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏—è –Ω—É–∂–Ω–∞, –ø–æ–ª–µ–∑–Ω–∞, –≤—ã–≥–æ–¥–Ω–∞?
  1.5 –ù–∞ —Ä–∞–±–æ—Ç–µ —Å –∫–∞–∫–∏–º–∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è?
- –°–µ–Ω—Å–æ—Ä–Ω—ã–π –±–ª–æ–∫ (‚Ññ | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç):
  2.1 –°–∏–ª—å–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
  2.2 –°–∏–ª—å–Ω—ã–π –∞—É–¥–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
  2.3 –°–∏–ª—å–Ω—ã–π –æ–±–æ–Ω—è—Ç–µ–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
  2.4 –°–∏–ª—å–Ω—ã–π –æ—Å—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—Ä–∞–∑
  2.5 –°–∏–ª—å–Ω—ã–π –≤–∫—É—Å–æ–≤–æ–π –æ–±—Ä–∞–∑
- –ë—Ä–µ–Ω–¥–∏–Ω–≥–æ–≤—ã–π –±–ª–æ–∫ (‚Ññ | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç):
  3.1 –ö–∞–∫ —É–ª—É—á—à–∞–µ–º –ª–∏—á–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –∏ —Å–∞–º–æ–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è?
  3.2 –ö–∞–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑–≤–∏—Ç—å –±—Ä–µ–Ω–¥? –ö–∞–∫–æ–π –ø–æ–º–µ—à–∞–µ—Ç?
  3.3 –°–∏–ª—å–Ω–æ–µ —è–¥—Ä–æ –±—Ä–µ–Ω–¥–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, –ª–æ–≥–æ—Ç–∏–ø, —Å–ª–æ–≥–∞–Ω, —Å—É—Ç—å, –¥–æ–ø. —ç–ª–µ–º–µ–Ω—Ç—ã
  3.4 –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø—Ä–æ–¥—É–∫—Ç–æ–º –∏ –±—Ä–µ–Ω–¥–æ–º (–æ–ø—ã—Ç –±—Ä–µ–Ω–¥–∞)
  3.5 –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è –±—Ä–µ–Ω–¥–∞ –Ω–∞ 3‚Äì5‚Äì10 –ª–µ—Ç
- –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π –±–ª–æ–∫ (‚Ññ | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç):
  4.1 –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è / –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  4.2 –û–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
  4.3 –†–∞–∑–≤–∏—Ç–∏–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
  4.4 –†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–Ω–∞–ª–æ–≤ —Å–±—ã—Ç–∞
  4.5 –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ (—Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –±–µ–∑–±—é–¥–∂–µ—Ç–Ω—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥)

## $REF_BOOK
–°–¥–µ–ª–∞–π –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–Ω—Å–ø–µ–∫—Ç (markdown) ‚Äî 4 –±–ª–æ–∫–∞ √ó 5 –∑–∞–¥–∞—á. –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏: 1‚Äì3 —Å—Ç—Ä–æ–∫–∏ —Å–º—ã—Å–ª–∞, –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –∏ —á—Ç–æ —Å—á–∏—Ç–∞—Ç—å ¬´—Ö–æ—Ä–æ—à–∏–º¬ª –æ—Ç–≤–µ—Ç–æ–º. –¢–æ–Ω ‚Äî –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫.

## $REF_EXAMPLE
–°–æ–±–µ—Ä–∏ –ø—Ä–∏–º–µ—Ä ¬´–ú—è—É-–Ø–∏—á–∫–æ¬ª:
- –®–∞–ø–∫–∞ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è; –Ω–∞–∑–≤–∞–Ω–∏–µ; –¶–ê; –±–æ–ª—å; —Å—É—Ç—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏) ‚Äî —Å–æ–≥–ª–∞—Å–Ω–æ –º–æ–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é.
- 20 –æ—Ç–≤–µ—Ç–æ–≤ (1.1‚Äì4.5) –Ω–∞ 1‚Äì4 —Å—Ç—Ä–æ–∫–∏, –∫–∞–∫ –≤ –º–æ—ë–º —Ç–µ–∫—Å—Ç–µ (–ø–µ—Ä–µ–ª–æ–∂–∏—Ç—å –ø–æ —Ñ–æ—Ä–º–µ).
- –†–∞–∑–¥–µ–ª—ã ¬´–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∏ —Å–æ—Å—Ç–∞–≤¬ª, ¬´–ü–æ—á–µ–º—É —ç—Ç–æ –∑–≤–µ–∑–¥–∞?¬ª, ¬´–ó–∞–∫–ª—é—á–µ–Ω–∏–µ¬ª.
–°—Ç–∏–ª—å ‚Äî –¥–µ–ª–æ–≤–æ–π, –ø–ª–æ—Ç–Ω—ã–π, –±–µ–∑ –≤–æ–¥—ã, –±–µ–∑ –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π.

# PATCH: $GEN_API
–ò–∑–º–µ–Ω–∏ —Ñ–∞–π–ª ¬´–º—è–≥–∫–∏–º¬ª –ø–∞—Ç—á–µ–º (–Ω–µ –ª–æ–º–∞–π –æ—Å—Ç–∞–ª—å–Ω–æ–µ):
- –ù–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ (–≤–Ω–µ handler) –ø—Ä–æ—á–∏—Ç–∞–π —Ç—Ä–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞:
  import fs from 'fs'; import path from 'path';
  const REF_DIR = path.join(process.cwd(), 'reference');
  const FORM = fs.readFileSync(path.join(REF_DIR,'form_template.md'), 'utf8');
  const BOOK = fs.readFileSync(path.join(REF_DIR,'book_v2_excerpt.md'), 'utf8');
  const EXAMPLE = fs.readFileSync(path.join(REF_DIR,'miau_example.md'), 'utf8');
- –°–æ–±–µ—Ä–∏ SYSTEM_PROMPT (—Å—Ç—Ä–æ–∫–∞):
  *–í–∫–ª–µ–π FORM –∫–∞–∫ —Å–ø–∏—Å–æ–∫ —Ç–æ—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞; –≤–∫–ª–µ–π BOOK –∫–∞–∫ ¬´–ø—Ä–∞–≤–∏–ª–∞ –∫–∞—á–µ—Å—Ç–≤–∞¬ª; –≤–∫–ª–µ–π EXAMPLE –∫–∞–∫ —ç—Ç–∞–ª–æ–Ω –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –∏ —Ç–æ–Ω–∞. –ü—Ä–æ–ø–∏—à–∏ –∂—ë—Å—Ç–∫–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –≤–µ—Ä–Ω—É—Ç—å JSON —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∑–∞–ø—Ä–µ—Ç–∏ –ø—É—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã.*
- –í–Ω—É—Ç—Ä–∏ handler –ø–æ–ª—É—á–∏ body.category, body.audience, body.pain, body.innovation, body.temperature.
- –°—Ñ–æ—Ä–º–∏—Ä—É–π messages –¥–ª—è LLM:
  [{role:'system', content: SYSTEM_PROMPT},
   {role:'user', content: `–í–≤–æ–¥–Ω—ã–µ: –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${...}; –¶–ê: ${...}; –ë–æ–ª—å: ${...}; –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å: ${...}; –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${...}`}]
- –í—ã–∑–æ–≤–∏ —Ç–µ–∫—É—â—É—é –º–æ–¥–µ–ª—å –∫–∞–∫ –≤ –ø—Ä–æ–µ–∫—Ç–µ; —Ä–∞—Å–ø–∞—Ä—Å–∏ –æ—Ç–≤–µ—Ç (–µ—Å–ª–∏ –ø—Ä–∏—à—ë–ª –Ω–µ JSON ‚Äî –ø–æ–ø—Ä–æ–±—É–π –∏–∑–≤–ª–µ—á—å –ø–µ—Ä–≤—ã–π –≤–∞–ª–∏–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç).
- –í–µ—Ä–Ω–∏ 200 –∏ JSON –∏–º–µ–Ω–Ω–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—ã.

# PATCH: $DOCX_API
–ü–æ–ª–Ω–æ—Å—Ç—å—é (–∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ) –æ–±–Ω–æ–≤–∏:
- –ò–º–ø–æ—Ä—Ç—ã: import { Document, Packer, Paragraph, TextRun, Table, TableRow, TableCell, HeadingLevel, WidthType } from 'docx';
- –ü—Ä–∏–º–∏ req.body.draft (—Ç–æ—Ç JSON).
- –ü–æ—Å—Ç—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç:
  1) –¢–∏—Ç—É–ª (Paragraph —Å HeadingLevel.TITLE)
  2) –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –¥–ª—è —Ñ–æ—Ç–æ ‚Äî Paragraph —Å —Ç–µ–∫—Å—Ç–æ–º ¬´üì∏ –ú–µ—Å—Ç–æ –¥–ª—è 3D-–ø—Ä–æ—Ç–æ—Ç–∏–ø–∞/—Ñ–æ—Ç–æ –ø—Ä–æ–¥—É–∫—Ç–∞¬ª
  3) –¢–∞–±–ª–∏—Ü–∞ —à–∞–ø–∫–∏: 5 —Å—Ç—Ä–æ–∫ √ó 2 –∫–æ–ª–æ–Ω–∫–∏ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ–ª—è + –∑–Ω–∞—á–µ–Ω–∏–µ)
  4) –î–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ —Å–æ–∑–¥–∞–≤–∞–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–∞–±–ª–∏—Ü—É 6 —Å—Ç—Ä–æ–∫ (—à–∞–ø–∫–∞ + 5 –≤–æ–ø—Ä–æ—Å–æ–≤): –∫–æ–ª–æ–Ω–∫–∏ ¬´‚Ññ | –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç¬ª
  5) –†–∞–∑–¥–µ–ª—ã ¬´–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∏ —Å–æ—Å—Ç–∞–≤¬ª (—Å–ø–∏—Å–æ–∫), ¬´–ü–æ—á–µ–º—É —ç—Ç–æ –∑–≤–µ–∑–¥–∞?¬ª (—Å–ø–∏—Å–æ–∫), ¬´–ó–∞–∫–ª—é—á–µ–Ω–∏–µ¬ª (–∫—É—Ä—Å–∏–≤)
- –ü–∞–∫—É–π –∏ –æ—Ç–¥–∞–π –±–∏–Ω–∞—Ä—å:
  res.setHeader('Content-Type','application/vnd.openxmlformats-officedocument.wordprocessingml.document');
  res.setHeader('Content-Disposition','attachment; filename="passport.docx"');

# PACKAGE / DEPENDENCIES
–ï—Å–ª–∏ –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- –î–æ–±–∞–≤—å "docx": "^8" –≤ dependencies.
- –ï—Å–ª–∏ –≤ package.json –Ω–µ—Ç —Å–∫—Ä–∏–ø—Ç–∞ ‚Äî –¥–æ–±–∞–≤—å:
  "scripts": {
    "dev":"vercel dev",
    "build":"echo 'static build'",
    "gen:docx:local":"node -e \"console.log('use /api/generate-docx via HTTP')\""
  }

# SECURITY (–º–∏–Ω–∏–º—É–º)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–ª—é—á–∏ API –±–µ—Ä—É—Ç—Å—è –∏–∑ process.env –∏ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è.
- –ù–µ –º–µ–Ω—è–π CORS/Origin —Å–µ–π—á–∞—Å, —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏ –ª–æ–≥–∏.

# OUTPUT